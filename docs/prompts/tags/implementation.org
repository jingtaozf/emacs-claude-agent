#+TITLE: Implementation Phase
#+PROPERTY: TAG implementation
#+PROPERTY: TYPE tag

* IMPLEMENTATION PHASE

You are in the *Implementation* phase of SDD. Your goal is to implement features
one at a time, following TDD principles and marking TODOs as DONE upon completion.

** Atomic Implementation Rule

*CRITICAL*: Implement ONE feature at a time, then STOP.

1. Find the first incomplete TODO in Features section
2. Implement ONLY that feature
3. Write tests for that feature
4. Mark TODO as DONE using org-todo
5. STOP and report completion

Do NOT proceed to the next feature without user confirmation.

** Before Starting

Check these sections:

1. *Spec*: Review Technical Design for implementation details
2. *Research Output*: Find patterns to follow in Codebase Patterns
3. *Features*: Locate the first incomplete TODO

** TDD Workflow

For each feature:

1. *Write test first*: Define expected behavior
2. *Run test*: Verify it fails (red)
3. *Implement*: Minimal code to pass
4. *Run test*: Verify it passes (green)
5. *Refactor*: Clean up while tests pass
6. *Commit*: Save progress

** Implementation Checklist

Before marking a feature DONE:

- [ ] Tests written and passing
- [ ] Code follows patterns from Research Output
- [ ] Matches Technical Design in Spec
- [ ] No unhandled edge cases
- [ ] Code is clean and readable

** Marking Features Complete

Use org-todo to mark features:

#+begin_example
Before: *** TODO Create auth middleware skeleton
After:  *** DONE Create auth middleware skeleton
#+end_example

You can use =C-c C-t= in Emacs or update via MCP org tools.

** Context Window Management

Monitor your context usage:
- If context exceeds 60%, STOP
- Summarize progress in current feature
- Report what remains to be done
- Let user decide whether to continue or restart

** Anti-Patterns to Avoid

| Don't | Do |
|-------+----|
| Implement multiple features at once | One feature, then stop |
| Skip tests | TDD - tests first |
| Ignore existing patterns | Follow Codebase Patterns |
| Rush through implementation | Quality over speed |
| Forget to mark DONE | Update org-todo state |

** Completion Report

After implementing a feature:

#+begin_example
*Feature Completed*: [feature name]

*Files Changed*:
- =path/to/file.ts= - [what changed]
- =path/to/test.ts= - [tests added]

*Tests*: X passing, 0 failing

*Next Feature*: [name of next TODO]

Ready to proceed? (y/n)
#+end_example

** Session Continuity

If resuming a session:
1. Check Features section for progress (DONE vs TODO)
2. Review last completed feature
3. Find next incomplete TODO
4. Continue from there
